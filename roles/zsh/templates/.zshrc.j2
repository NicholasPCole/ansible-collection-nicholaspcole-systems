# {{ nicholaspcole_systems_ansible_managed }}

function prompt_character {
    if [ $UID -eq 0 ]; then
        echo "#"
    else
        echo "$"
    fi
}

function prompt_username {
    if [ "$(whoami)" = "{{ nicholaspcole_systems_default_user }}" ]; then
        echo ""
    else 
        echo "$(whoami)@"
    fi
}

function TRAPALRM {
    zle reset-prompt
}

{% if zsh_vanity_hostname is defined %}
{%- raw -%}PROMPT="(%D{%H:%M:%S}%)[$(prompt_username){%- endraw -%}{{ zsh_vanity_hostname }}{%- raw -%}:%B%U%~%u%b]$(prompt_character) "{%- endraw -%}
{% else %}
{%- raw -%}PROMPT="(%D{%H:%M:%S}%)[$(prompt_username)%m:%B%U%~%u%b]$(prompt_character) "{%- endraw -%}
{% endif %}

HISTFILE=~/.zsh_history
HISTSIZE=5000
SAVEHIST=5000
TMOUT=1

bindkey -e
export CLICOLOR=1
export EDITOR="vim"
setopt APPEND_HISTORY
setopt AUTO_CD
setopt AUTO_LIST
setopt AUTO_MENU
setopt CORRECT
setopt EXTENDED_GLOB
setopt EXTENDED_HISTORY
setopt HIST_IGNORE_SPACE
setopt INC_APPEND_HISTORY
setopt LIST_PACKED
setopt NOMATCH
setopt NOTIFY
setopt NUMERIC_GLOB_SORT
setopt RM_STAR_WAIT
setopt SHARE_HISTORY

if [[ -d {{ zsh_configuration_directory_path }} ]] && [[ "$(ls -A {{ zsh_configuration_directory_path }})" ]]; then
  for file in "{{ zsh_configuration_directory_path }}"/*; do
    source "${file}"
  done
fi

autoload -Uz compinit
compinit
